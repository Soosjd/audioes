<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Camera Access Example</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #f8f9fa;
    margin: 0;
    padding: 20px;
  }
  video {
    width: 100%;
    max-width: 480px;
    border-radius: 10px;
    background: black;
  }
  button {
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
  }
</style>
</head>
<body>

<h1>Camera Access Demo</h1>
<video id="video" autoplay playsinline></video><br>
<button id="startCam">Start Camera</button>
<button id="toggleCam" disabled>Switch Camera</button>

<script>
let useFront = true;
let currentStream;

async function startCamera() {
  if (currentStream) {
    currentStream.getTracks().forEach(track => track.stop());
  }
  try {
    const stream = await navigator.mediaDevices.getUserMedia({
      video: { facingMode: useFront ? "user" : "environment" },
      audio: false
    });
    currentStream = stream;
    document.getElementById("video").srcObject = stream;
    document.getElementById("toggleCam").disabled = false;
  } catch (err) {
    alert("Could not access camera: " + err.message);
  }
}

document.getElementById("startCam").addEventListener("click", startCamera);
document.getElementById("toggleCam").addEventListener("click", () => {
  useFront = !useFront;
  startCamera();
});
</script>

</body>
</html>
